{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst formSearch = document.querySelector('.search-form');\nconst gallery = document.querySelector('.gallery-container');\nconst loading = document.querySelector('.loading');\n\nformSearch.addEventListener('submit', getPictureByValue);\n\nfunction getPictureByValue(evt) {\n  evt.preventDefault();\n  const form = evt.currentTarget;\n\n  const inputValue = form.elements.insert.value.toLowerCase().trim();\n\n  if (inputValue === '') {\n    loading.style.display = 'none';\n    return errorParams();\n  }\n  loading.style.display = 'flex';\n  gallery.innerHTML = '';\n\n  fetchParams(inputValue)\n    .then(inputPictures)\n    .catch(errorParams)\n    .finally(() => form.reset());\n}\n\nfunction fetchParams(item) {\n  const API_KEY = '44767976-5c84653ee99974363117d019c';\n\n  return fetch(\n    `https://pixabay.com/api/?key=${API_KEY}&q=${item}&image_type=photo&orientation=horizontal&safesearch=true`\n  ).then(res => {\n    if (!res.ok) {\n      throw new Error(res.status);\n    }\n    return res.json();\n  });\n}\n\nfunction inputPictures({ hits }) {\n  const hitsList = hits\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `<ul class=\"gallery-card\">\n      <li class=\"gallery\">\n      <a class=\"gallery-link\" href=\"${largeImageURL}\"> \n   <img src=\"${webformatURL}\" alt=\"${tags}\" width=\"270\" height=\"160\"/>\n   </a>\n    <div class=\"discrabe\">\n  <ul class=\"discrabe-list\">\n  <li class=\"discrabe-item\"><b>Likes</b> ${likes}</li>\n  <li class=\"discrabe-item\"><b>Views</b> ${views}</li>\n  <li class=\"discrabe-item\"><b>Comments</b> ${comments}</li>\n  <li class=\"discrabe-item\"><b>Downloads</b> ${downloads}</li>\n  </ul>\n</div>\n</li>\n    </ul>`\n    )\n    .join('');\n\n  gallery.innerHTML = hitsList;\n\n  if (hits.length === 0) {\n    loading.style.display = 'none';\n    return errorParams();\n  }\n  lightbox.refresh();\n  loading.style.display = 'none';\n}\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionDelay: 250,\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n});\n\nfunction errorParams() {\n  iziToast.error({\n    title: 'Error',\n    position: 'topRight',\n    title: '',\n    message:\n      'Sorry, there are no images matching your search query. Please try again!',\n  });\n}\n"],"names":["formSearch","gallery","loading","getPictureByValue","evt","form","inputValue","errorParams","fetchParams","inputPictures","item","res","hits","hitsList","webformatURL","largeImageURL","tags","likes","views","comments","downloads","lightbox","SimpleLightbox","iziToast"],"mappings":"6vBAKA,MAAMA,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAU,SAAS,cAAc,oBAAoB,EACrDC,EAAU,SAAS,cAAc,UAAU,EAEjDF,EAAW,iBAAiB,SAAUG,CAAiB,EAEvD,SAASA,EAAkBC,EAAK,CAC9BA,EAAI,eAAc,EAClB,MAAMC,EAAOD,EAAI,cAEXE,EAAaD,EAAK,SAAS,OAAO,MAAM,YAAW,EAAG,OAE5D,GAAIC,IAAe,GACjB,OAAAJ,EAAQ,MAAM,QAAU,OACjBK,EAAW,EAEpBL,EAAQ,MAAM,QAAU,OACxBD,EAAQ,UAAY,GAEpBO,EAAYF,CAAU,EACnB,KAAKG,CAAa,EAClB,MAAMF,CAAW,EACjB,QAAQ,IAAMF,EAAK,MAAK,CAAE,CAC/B,CAEA,SAASG,EAAYE,EAAM,CAGzB,OAAO,MACL,qEAA6CA,CAAI,0DACrD,EAAI,KAAKC,GAAO,CACZ,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACf,CAAG,CACH,CAEA,SAASF,EAAc,CAAE,KAAAG,GAAQ,CAC/B,MAAMC,EAAWD,EACd,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,sCAE0BL,CAAa;AAAA,eACpCD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,2CAIEC,CAAK;AAAA,2CACLC,CAAK;AAAA,8CACFC,CAAQ;AAAA,+CACPC,CAAS;AAAA;AAAA;AAAA;AAAA,UAKnD,EACA,KAAK,EAAE,EAIV,GAFAnB,EAAQ,UAAYY,EAEhBD,EAAK,SAAW,EAClB,OAAAV,EAAQ,MAAM,QAAU,OACjBK,EAAW,EAEpBc,EAAS,QAAO,EAChBnB,EAAQ,MAAM,QAAU,MAC1B,CAEA,MAAMmB,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,IACd,aAAc,MACd,gBAAiB,QACnB,CAAC,EAED,SAASf,GAAc,CACrBgB,EAAS,MAAM,CACb,MAAO,QACP,SAAU,WACV,MAAO,GACP,QACE,0EACN,CAAG,CACH"}